---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import CalendarPage from '../../../components/calendar/CalendarPage';

let calendarData: any = { generated_at: '', events: [], banners: [], exchanges: [], daily_dungeons: [] };
try {
  const raw = await import('../../../../public/data/calendar.json');
  calendarData = raw.default || raw;
} catch (_e) {
  console.warn('Failed to load calendar.json');
}
---

<BaseLayout title="イベントカレンダー" description="御伽スピリットエージェントの現在と今後のイベント、バナー、スケジュール" hasLocalizedUrls={true}>
  <div class="container mx-auto px-4 py-6">
    <div class="mb-6">
      <h1 class="text-2xl md:text-3xl font-bold mb-2">イベントカレンダー</h1>
      <p class="text-secondary">現在と今後のイベント、ピックアップガチャ、交換、デイリーダンジョン。</p>
    </div>

    <CalendarPage client:load data={calendarData} />
  </div>
</BaseLayout>
