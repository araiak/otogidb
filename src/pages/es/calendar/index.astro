---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import CalendarPage from '../../../components/calendar/CalendarPage';

let calendarData: any = { generated_at: '', events: [], banners: [], exchanges: [], daily_dungeons: [] };
try {
  const raw = await import('../../../../public/data/calendar.json');
  calendarData = raw.default || raw;
} catch (_e) {
  console.warn('Failed to load calendar.json');
}
---

<BaseLayout title="Calendario de Eventos" description="Eventos actuales y próximos, banners y horarios de Otogi Spirit Agents" hasLocalizedUrls={true}>
  <div class="container mx-auto px-4 py-6">
    <div class="mb-6">
      <h1 class="text-2xl md:text-3xl font-bold mb-2">Calendario de Eventos</h1>
      <p class="text-secondary">Eventos actuales y próximos, banners destacados, intercambios y mazmorras diarias.</p>
    </div>

    <CalendarPage client:load data={calendarData} />
  </div>
</BaseLayout>
